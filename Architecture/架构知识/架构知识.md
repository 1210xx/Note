
# 架构的主要目的是为了解决*系统复杂度*带来的问题。

首先要有复杂的系统和代码能力。

- 组件：从物理上划分，主要是为了单元分离。
- 模块：从逻辑上划分，主要是为了指责分离。

假设我们要做一个学生信息管理系统，
这个系统从逻辑的角度来拆分，可以分为“登录注册模块”“个人信息模块”“个人成绩模块”；
从物理的角度来拆分，可以拆分为 Nginx、Web 服务器、MySQL。


# 高性能带来的的复杂度：
- 单台计算机为了提高性能带来的复杂度
- 多台计算机集群为了高性能带来的复杂度

单机的复杂度主要是操作系统的演变：

串行输入->批处理->进程->多线程

集群的复杂度：

- 任务分配
	增加业务服务其或者任务分配服务器
- 任务分解
	分解任务部署多台子任务服务器。（微服务）特殊注意任务划分的粒度
	
# 高可用带来的复杂度
高可用： 系统无中断的执行其功能的能力，代表系统的 可用性程度。是进行系统设计的准则之一。

基本上都是通过冗余来增加高可用。

与高性能增加机器不同的是：高性能增加机器在于扩展性能，高可用的目的是为了“冗余”处理单元。

## 存储的高可用
难点在于如果减少或者规避数据不一致对业务的影响，而不是数据备份的问题。

分布式领域里面有一个著名的 CAP 定理，从理论上论证了存储高可用的复杂度。也就是说，存储高可用不可能同时满足“一致性、可用性、分区容错性”，最多满足其中两个，这就要求我们在做架构设计时结合业务进行取舍。

# 可扩展性带来的复杂度
软件开发领域 面向对象就是为了解决可扩展性，设计模式更是将可扩展性做到了极致。

设计具备良好可扩展性的系统
- 正确预测变化
- 完美封装变化


- 剥离出稳定层和变化层
- 提炼出抽象层和稳定层
	- 设计模式和规则引擎

# 低成本、安全和规模带来的复杂度


低成本一般不是首要目标，而是附加约束。

安全一般分类功能上的安全和架构上的安全。

规模带来复杂度的主要原因就是“量变引起质变”

# 架构设计的三个原则

架构的面对的就是不确定性

- 合适原则
	- 合适优于业界领先
- 简单原则
	- 简单优于复杂
- 演化原则
	- 演化优于一步到位

